<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Impriverso3D | ImpresiÃ³n 3D en PLA y PETG</title>
  <meta name="description" content="Impriverso3D: impresiÃ³n 3D profesional en PLA y PETG. Prototipos y series cortas (FDM).">
  <link rel="icon" href="assets/logo.svg" type="image/svg+xml"/>
  <link rel="manifest" href="manifest.json"/>
  <meta name="theme-color" content="#0b6b6b"/>
  <link rel="stylesheet" href="style.css?v=3.4.0"/>
  <!-- libs (no se usan para STL ahora, pero se dejan por compatibilidad futura) -->
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
</head>
<body>
  <header class="header">
    <div class="container">
      <div class="row">
        <a class="brand" href="#">
          <img src="assets/logo.svg" alt="Impriverso3D logo"/>
          <span>Impriverso3D</span>
        </a>
        <button id="navToggle" class="nav-toggle" aria-label="Abrir menÃº">â˜°</button>
        <nav id="nav" class="nav">
          <a href="#presupuesto" data-i18n="nav_budget">Presupuesto online</a>
          <a href="#modelado" data-i18n="nav_model">Modelado 3D</a>
          <a href="#como-funciona" data-i18n="nav_how">Â¿CÃ³mo funciona?</a>
          <a href="#shop" data-i18n="nav_shop">Tienda</a>
          <a href="#blog" data-i18n="nav_blog">Blog</a>
          <a class="cta" href="#contacto" data-i18n="nav_contact">Contacto</a>
          <button id="langToggle" class="btn ghost" type="button" aria-label="Cambiar idioma">ES/EN</button>
        </nav>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-grid">
      <div>
        <h1 data-i18n="hero_title">ImpresiÃ³n 3D en PLA y PETG</h1>
        <p class="sub" data-i18n="hero_desc">Servicio profesional (FDM) con PLA y PETG. Prototipos, series cortas y piezas funcionales.</p>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin:14px 0 6px">
          <a href="#presupuesto" class="btn primary" data-i18n="hero_cta1">Calcular precio</a>
          <a href="#contacto" class="btn ghost" data-i18n="hero_cta2">Presupuesto personalizado</a>
        </div>
        <ul class="kpis">
          <li data-i18n="badges">PLA Â· PETG</li>
          <li>FDM</li>
          <li>Entrega 48â€“72h</li>
        </ul>
      </div>
      <div>
        <div class="box">
          <div class="yt-frame">
            <iframe id="ytPlayer" data-fixed="1" width="560" height="315"
                    src="https://www.youtube.com/embed/VjZc9nk2jdg?rel=0"
                    title="Impriverso3D video destacado" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="como-funciona" class="section">
    <div class="container">
      <h2 data-i18n="steps_title">Â¿CÃ³mo funciona nuestro servicio?</h2>
      <div class="grid-steps">
        <div class="step"><h4 data-i18n="step1">Elige tu pieza</h4><p class="sub" data-i18n="step1_desc">EncuÃ©ntrala en repositorios o cuÃ©ntame tu idea para modelarla desde cero.</p></div>
        <div class="step"><h4 data-i18n="step2">SÃºbela</h4><p class="sub" data-i18n="step2_desc">Usa el cotizador online para subir tu .stl/.obj/.zip y ajustar parÃ¡metros.</p></div>
        <div class="step"><h4 data-i18n="step3">Compra</h4><p class="sub" data-i18n="step3_desc">AÃ±ade al carrito (Stripe) o pide presupuesto si es a medida.</p></div>
        <div class="step"><h4 data-i18n="step4">Recibe</h4><p class="sub" data-i18n="step4_desc">EnvÃ­o a toda EspaÃ±a. Recogida local opcional.</p></div>
      </div>
    </div>
  </section>

  <!-- NUEVO: presupuesto por dimensiones/colores, sin subida STL -->
  <section id="presupuesto" class="section config">
    <div class="container">
      <h2>Presupuesto online</h2>
      <p class="sub">Indica dimensiones (mm) y nÂº de colores. La estimaciÃ³n se calcula al vuelo.</p>

      <div class="config-grid">
        <div class="panel">
          <div class="cards" style="grid-template-columns:repeat(auto-fit,minmax(180px,1fr));">
            <label>Ancho (mm)<input class="input" type="number" id="wmm" min="5" max="400" step="1" value="60"></label>
            <label>Alto (mm)<input class="input" type="number" id="hmm" min="5" max="400" step="1" value="75"></label>
            <label>Profundidad (mm)<input class="input" type="number" id="dmm" min="1" max="50" step="1" value="2"></label>
            <label>Colores<select class="select" id="colors">
              <option value="1">1</option>
              <option value="2" selected>2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select></label>
            <label>Material<select class="select" id="material">
              <option>PLA</option>
              <option>PETG</option>
            </select></label>
            <label>Acabado<select class="select" id="finish">
              <option value="estandar">EstÃ¡ndar</option>
              <option value="premium">Premium (lijado + pintado)</option>
            </select></label>
          </div>

          <div class="price-box">
            <div><small>EstimaciÃ³n</small><div class="price"><span id="price">â€”</span> â‚¬</div></div>
            <button id="addToQuote" class="btn primary">AÃ±adir</button>
          </div>
        </div>

        <div class="panel">
          <h3 style="margin:0 0 8px">Notas</h3>
          <ul class="sub" style="margin:0">
            <li>Solo PLA / PETG (FDM).</li>
            <li>Precio por volumen, material y nÂº de colores.</li>
            <li>Ejemplo: 60Ã—75Ã—2 mm con 2 colores â‰ˆ <strong>2 â‚¬</strong>.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section id="media" class="section">
    <div class="container yt-ig">
      <div class="box">
        <h2 data-i18n="yt_title">YouTube</h2>
        <div class="yt-frame"><iframe id="ytPlayer2" width="560" height="315" src="about:blank" title="Impriverso3D video 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>
      </div>
      <div class="box">
        <h2 data-i18n="ig_title">Instagram</h2>
        <div class="ig-grid"><div class="ig-placeholder">Cargando el feedâ€¦</div></div>
      </div>
    </div>
  </section>

  <section id="shop" class="section pricing">
    <div class="container">
      <h2 data-i18n="pricing_title">Packs estÃ¡ndar</h2>
      <p class="sub" data-i18n="pricing_desc">Compra directa con Stripe. Para piezas a medida, usa el cotizador.</p>
      <div class="cards">
        <article class="card"><h3>PLA Proto</h3><p>Prototipo PLA, â‰¤120mm, 0.2mm capa.</p><button class="btn primary" data-product="pla" data-i18n="buy">Comprar</button></article>
        <article class="card"><h3>PETG Pro</h3><p>Alta resistencia, â‰¤100mm, PETG, buena adhesiÃ³n tÃ©rmica.</p><button class="btn primary" data-product="petg" data-i18n="buy">Comprar</button></article>
        <article class="card"><h3>Express 48h</h3><p>Cola prioritaria, FDM rÃ¡pido, â‰¤100mm (PLA/PETG).</p><button class="btn primary" data-product="express" data-i18n="buy">Comprar</button></article>
      </div>
    </div>
  </section>

  <section id="contacto" class="section">
    <div class="container">
      <h2 data-i18n="contact_title">ContÃ¡ctame</h2>
      <p class="sub" data-i18n="contact_desc">CuÃ©ntame tu proyecto y te paso una propuesta cerrada.</p>
      <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" class="panel">
        <input type="hidden" name="form-name" value="contact">
        <input type="hidden" id="configSnapshot" name="config_snapshot" value="">
        <p class="hidden"><label>No rellenar: <input name="bot-field"/></label></p>
        <div class="cards" style="grid-template-columns:repeat(auto-fit,minmax(260px,1fr));">
          <label>Nombre*<input class="input" type="text" name="nombre" required></label>
          <label>Email*<input class="input" type="email" name="email" required></label>
          <label>Tipo<select class="select" name="tipo"><option>Prototipo</option><option>Pieza funcional</option><option>Decorativo</option></select></label>
        </div>
        <label>DescripciÃ³n*<textarea class="textarea" name="mensaje" rows="5" required placeholder="Dimensiones, material, usoâ€¦"></textarea></label>
        <button class="btn primary" type="submit">Enviar</button>
      </form>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p>Â© <span id="year"></span> <strong>Impriverso3D</strong>. <span data-i18n="footer_rights">Impriverso3D â€” Servicio profesional de impresiÃ³n 3D.</span></p>
      <div class="social">
        <a href="https://www.youtube.com/@Impriverso3D" target="_blank" rel="noopener">YouTube</a> Â·
        <a href="https://www.instagram.com/impriverso3d/" target="_blank" rel="noopener">@impriverso3d</a> Â·
        <a href="mailto:contacto@impriverso3d.com">contacto@impriverso3d.com</a>
      </div>
    </div>
  </footer>

  <!-- AI Assistant -->
  <div id="ai-widget" class="ai-widget" aria-live="polite">
    <button id="ai-fab" class="ai-fab" aria-label="Abrir asistente IA" aria-expanded="false">ðŸ¤–</button>
    <div id="ai-panel" class="ai-panel" aria-hidden="true" role="dialog">
      <div class="ai-header">
        <div class="ai-title"><span data-i18n="ai_title">Asistente 3D Â· Filamento</span></div>
        <button id="ai-close" class="ai-close" aria-label="Cerrar">Ã—</button>
      </div>
      <div id="ai-messages" class="ai-messages">
        <div class="ai-msg ai-bot"><div class="ai-bubble">Â¡Hola! CuÃ©ntame tu setup (impresora, material y parÃ¡metros) o el problema que tienes ðŸ”§</div></div>
      </div>
      <form id="ai-form" class="ai-form">
        <input id="ai-input" name="q" type="text" data-i18n-placeholder="ai_placeholder" placeholder="Ej. stringing PLA a 210Â°C, 0.2mm, 60mm/sâ€¦" autocomplete="off" required/>
        <button class="btn primary" type="submit">Enviar</button>
      </form>
      <div class="ai-footnote"><span data-i18n="ai_privacy">Privado. Tus datos no se publican. LLM.</span></div>
    </div>
  </div>

  <a class="wa-fab" href="https://wa.me/34123456789" target="_blank" rel="noopener" aria-label="WhatsApp">ðŸ’¬</a>

  <script src="script.js?v=3.4.0"></script>
</body>
</html>
