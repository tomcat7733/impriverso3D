<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Impriverso3D | Dise√±o e Impresi√≥n 3D a medida</title>
  <meta name="description" content="Impriverso3D: dise√±o CAD y fabricaci√≥n aditiva 100% personalizada. Prototipado, piezas funcionales y objetos √∫nicos en PLA, PETG, ABS y resina.">
  <link rel="stylesheet" href="style.css?v=2.0.0" />
  <link rel="icon" href="assets/logo.svg" type="image/svg+xml" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0b0d10">
  <script async src="https://apis.google.com/js/platform.js"></script>
  <script async src="//www.instagram.com/embed.js"></script>
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.158.0/examples/js/controls/OrbitControls.js"></script>
  <script src="https://unpkg.com/three@0.158.0/examples/js/loaders/STLLoader.js"></script>
</head>
<body>
  <header class="header">
    <div class="brand">
      <img src="assets/logo.svg" alt="Impriverso3D logo" class="logo"/>
      <span>Impriverso3D</span>
    </div>
    <button id="navToggle" class="nav-toggle" aria-label="Abrir men√∫">‚ò∞</button>
    <nav id="nav" class="nav">
      <a href="#servicios" data-i18n="nav_services">Servicios</a>
      <a href="#configurador" data-i18n="nav_config">Configurador</a>
      <a href="#galeria" data-i18n="nav_gallery">Galer√≠a</a>
      <a href="#youtube" data-i18n="nav_youtube">YouTube</a>
      <a href="#instagram" data-i18n="nav_instagram">Instagram</a>
      <a href="#contacto" class="cta" data-i18n="nav_contact">Contactar</a>
      <button id="langToggle" class="btn ghost" type="button" aria-label="Cambiar idioma">ES/EN</button>
    </nav>
  </header>

  <section class="hero">
    <div class="hero-inner">
      <h1 data-i18n-html="hero_title">Dise√±o &amp; Impresi√≥n 3D <span class="gradient">100% personalizada</span></h1>
      <p data-i18n="hero_desc">De la idea al objeto f√≠sico: prototipos, piezas funcionales y objetos √∫nicos. Calidad de estudio, tiempos √°giles.</p>
      <div class="hero-cta">
        <a href="#configurador" class="btn primary" data-i18n="hero_config">Configura tu pieza</a>
        <a href="#contacto" class="btn ghost" data-i18n="hero_quote">Pide presupuesto</a>
      </div>
      <ul class="badges">
        <li data-i18n="badges">PLA ¬∑ PETG ¬∑ ABS ¬∑ Resina</li>
        <li>Dise√±o CAD</li>
        <li>Acabados premium</li>
      </ul>
    </div>
  </section>

  <section id="servicios" class="section">
    <h2 data-i18n="services_title">Servicios</h2>
    <div class="cards">
      <article class="card">
        <h3 data-i18n="s1">Dise√±o CAD</h3>
        <p data-i18n="s1_desc">Modelado param√©trico y reverse engineering. Bocetos ‚Üí modelos 3D listos para imprimir.</p>
      </article>
      <article class="card">
        <h3 data-i18n="s2">Prototipado r√°pido</h3>
        <p data-i18n="s2_desc">Iteraciones √°giles para validar encajes, ergonom√≠a y mec√°nica. Entrega expr√©s.</p>
      </article>
      <article class="card">
        <h3 data-i18n="s3">Impresi√≥n 3D</h3>
        <p data-i18n="s3_desc">FDM y resina. Ajuste fino de capa, infill y soportes para el mejor balance calidad/tiempo/coste.</p>
      </article>
      <article class="card">
        <h3 data-i18n="s4">Personalizaci√≥n</h3>
        <p data-i18n="s4_desc">Color, textura y post-procesado (lijado, imprimaci√≥n, pintura). Tu pieza, tu estilo.</p>
      </article>
    </div>
  </section>

  <section id="configurador" class="section configurator">
    <h2 data-i18n="config_title">Configurador &amp; Estimador</h2>
    <p class="sub"><span data-i18n="config_desc">Sube tu STL, ajusta par√°metros y obt√©n una estimaci√≥n al vuelo (client-side).</span></p>

    <div class="config-grid">
      <div class="panel">
        <label class="file-drop" id="fileDrop">
          <input type="file" id="stlInput" accept=".stl" hidden>
          <span>Arrastra tu archivo <strong>.stl</strong> o haz clic</span>
        </label>

        <div class="field">
          <label><span data-i18n-html="size_label">Tama√±o (m√°x. dimensi√≥n) <span id="sizeVal">10</span> cm</span></label>
          <input type="range" id="size" min="2" max="40" value="10">
        </div>

        <div class="field">
          <label data-i18n="material_label">Material</label>
          <select id="material">
            <option value="PLA">PLA</option>
            <option value="PETG">PETG</option>
            <option value="ABS">ABS</option>
            <option value="RESINA">Resina</option>
          </select>
        </div>

        <div class="field">
          <label><span data-i18n-html="infill_label">Densidad de relleno <span id="infillVal">20</span>%</span></label>
          <input type="range" id="infill" min="0" max="100" value="20">
        </div>

        <div class="field">
          <label data-i18n="finish_label">Acabado</label>
          <select id="finish">
            <option value="estandar" data-i18n="finish_std">Est√°ndar</option>
            <option value="premium" data-i18n="finish_prem">Premium (lijado + pintado)</option>
          </select>
        </div>

        <div class="price-box">
          <div>
            <small data-i18n="estimate">Estimaci√≥n</small>
            <div class="price"><span id="price">‚Äî</span> ‚Ç¨</div>
          </div>
          <button id="addToQuote" class="btn primary" data-i18n="add_to_quote">A√±adir a solicitud</button>
        </div>
      </div>

      <div class="viewer">
        <canvas id="stlCanvas"></canvas>
        <div class="viewer-hint">Vista 3D interactiva (gira/zoom)</div>
      </div>
    </div>
  </section>

  <section id="galeria" class="section">
    <h2 data-i18n="gallery_title">Galer√≠a</h2>
    <p class="sub"><span data-i18n="gallery_desc">Algunos ejemplos. Pide los tuyos con tu toque personal.</span></p>
    <div class="gallery">
      <a href="https://placehold.co/1200x800?text=Impriverso3D+1" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+1" alt="Proyecto 1"></a>
      <a href="https://placehold.co/1200x800?text=Impriverso3D+2" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+2" alt="Proyecto 2"></a>
      <a href="https://placehold.co/1200x800?text=Impriverso3D+3" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+3" alt="Proyecto 3"></a>
      <a href="https://placehold.co/1200x800?text=Impriverso3D+4" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+4" alt="Proyecto 4"></a>
      <a href="https://placehold.co/1200x800?text=Impriverso3D+5" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+5" alt="Proyecto 5"></a>
      <a href="https://placehold.co/1200x800?text=Impriverso3D+6" class="g-item"><img src="https://placehold.co/400x300?text=Proyecto+6" alt="Proyecto 6"></a>
    </div>
    <div id="lightbox" class="lightbox" aria-hidden="true">
      <img id="lightboxImg" alt="Vista ampliada" />
      <button class="close" id="lightboxClose" aria-label="Cerrar">√ó</button>
    </div>
  </section>

  <section id="youtube" class="section">
    <h2 data-i18n="youtube_title">YouTube</h2>
    <p class="sub" data-i18n-html="youtube_desc">Contenido de dise√±o e impresi√≥n 3D en <a href="https://www.youtube.com/@Impriverso3D" target="_blank" rel="noopener">youtube.com/@Impriverso3D</a></p>
    <p class="note" data-i18n-html="youtube_note">üí° El carrusel toma el <strong>√∫ltimo v√≠deo</strong> autom√°ticamente. Puedes navegar con las flechas.</p>
    <div class="yt-sub">
      <div class="g-ytsubscribe" data-channel="@Impriverso3D" data-layout="full" data-count="default"></div>
      <a class="btn ghost" href="https://www.youtube.com/@Impriverso3D" target="_blank" rel="noopener">Ver canal</a>
    </div>
    <div class="yt-carousel">
      <button class="carousel-btn" id="prevVid" aria-label="V√≠deo anterior">‚Äπ</button>
      <div class="yt-frame">
        <iframe id="ytPlayer" width="560" height="315" src="https://www.youtube.com/embed/dQw4w9WgXcQ" title="Impriverso3D - video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
      <button class="carousel-btn" id="nextVid" aria-label="V√≠deo siguiente">‚Ä∫</button>
    </div>
  </section>

  <section id="instagram" class="section">
    <h2 data-i18n="instagram_title">Instagram</h2>
    <p class="sub" data-i18n-html="instagram_desc">Demos, making-of y piezas terminadas en <a href="https://www.instagram.com/impriverso3d/" target="_blank" rel="noopener">@impriverso3d</a></p>
    <div class="ig-follow">
      <a class="btn primary" href="https://www.instagram.com/impriverso3d/" target="_blank" rel="noopener">Seguir en Instagram</a>
    </div>
    <div class="ig-grid">
      <div class="ig-placeholder">Cargando el feed‚Ä¶</div>
    </div>
  </section>

  <section id="pricing" class="section">
    <h2 data-i18n="pricing_title">Packs est√°ndar</h2>
    <p class="sub" data-i18n="pricing_desc">Compra directa con Stripe. Para piezas a medida, usa el configurador y el formulario.</p>
    <div class="cards">
      <article class="card">
        <h3 data-i18n="p1">Proto Pack</h3>
        <p data-i18n="p1_desc">Prototipo FDM b√°sico, ‚â§120mm, PLA, 0.2mm capa.</p>
        <button class="btn primary" data-product="proto" data-i18n="buy">Comprar</button>
      </article>
      <article class="card">
        <h3 data-i18n="p2">Resina Premium</h3>
        <p data-i18n="p2_desc">Alta resoluci√≥n, ‚â§80mm, resina, postpro premium.</p>
        <button class="btn primary" data-product="resina" data-i18n="buy">Comprar</button>
      </article>
      <article class="card">
        <h3 data-i18n="p3">Express 48h</h3>
        <p data-i18n="p3_desc">Cola prioritaria, FDM r√°pido, ‚â§100mm, PLA/PETG.</p>
        <button class="btn primary" data-product="express" data-i18n="buy">Comprar</button>
      </article>
    </div>
  </section>

  <section id="faq" class="section">
    <h2 data-i18n="faq_title">FAQ</h2>
    <div class="faq">
      <details>
        <summary><span data-i18n="faq_mats_q">¬øQu√© materiales trabajas?</span></summary>
        <p><span data-i18n="faq_mats_a">PLA, PETG, ABS y resina. Si necesitas otro, lo vemos.</span></p>
      </details>
      <details>
        <summary><span data-i18n="faq_stl_q">¬øPuedo enviar mi propio STL?</span></summary>
        <p><span data-i18n="faq_stl_a">Claro. Puedes cargarlo arriba para vista previa y estimaci√≥n.</span></p>
      </details>
      <details>
        <summary><span data-i18n="faq_time_q">¬øTiempo de entrega?</span></summary>
        <p><span data-i18n="faq_time_a">Depende de tama√±o, material y cola de trabajo. Est√°ndar: 2‚Äì7 d√≠as.</span></p>
      </details>
    </div>
  </section>

  <section id="contacto" class="section contact">
    <h2 data-i18n="contact_title">Contacto</h2>
    <p class="sub"><span data-i18n="contact_desc">Cu√©ntame tu idea y te respondo con un presupuesto ajustado.</span></p>
    <form name="contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" enctype="multipart/form-data" class="form">
      <input type="hidden" name="form-name" value="contact">
      <input type="hidden" id="configSnapshot" name="config_snapshot" value="">
      <p class="hidden">
        <label>No rellenar: <input name="bot-field" /></label>
      </p>
      <div class="form-grid">
        <label>Nombre*<input type="text" name="nombre" required></label>
        <label>Email*<input type="email" name="email" required></label>
        <label>Tipo de pieza<select name="tipo">
          <option>Prototipo</option>
          <option>Pieza funcional</option>
          <option>Objeto decorativo</option>
        </select></label>
        <label>Archivo (STL/ZIP opcional)<input type="file" name="archivo"></label>
        <label class="full">Descripci√≥n*<textarea name="mensaje" rows="5" required placeholder="Cu√©ntame dimensiones, material preferido, uso previsto‚Ä¶"></textarea></label>
      </div>
      <button class="btn primary" type="submit" data-i18n="contact_send">Enviar</button>
    </form>
    <p class="note">Este formulario usa <strong>Netlify Forms</strong> (sin backend). Revisa tus env√≠os en el panel de Netlify.</p>
  </section>

  <footer class="footer">
    <p>¬© <span id="year"></span> Impriverso3D ‚Äî <span data-i18n="footer_rights">Dise√±o &amp; Impresi√≥n 3D a medida.</span></p>
    <div class="social">
      <a href="https://www.youtube.com/@Impriverso3D" target="_blank" rel="noopener" aria-label="YouTube">@Impriverso3D</a>
      <a href="https://www.instagram.com/impriverso3d/" target="_blank" rel="noopener" aria-label="Instagram">@impriverso3d</a>
      <a href="mailto:contacto@impriverso3d.com" aria-label="Email">contacto@impriverso3d.com</a>
    </div>
  </footer>

  <!-- AI Assistant Widget -->
  <div id="ai-widget" class="ai-widget" aria-live="polite">
    <button id="ai-fab" class="ai-fab" aria-label="Abrir asistente IA" aria-expanded="false">ü§ñ</button>
    <div id="ai-panel" class="ai-panel" aria-hidden="true" role="dialog">
      <div class="ai-header">
        <div class="ai-title"><span data-i18n="ai_title">Asistente 3D ¬∑ Filamento</span></div>
        <button id="ai-close" class="ai-close" aria-label="Cerrar">√ó</button>
      </div>
      <div id="ai-messages" class="ai-messages">
        <div class="ai-msg ai-bot">
          <div class="ai-bubble">
            ¬°Hola! Soy tu asistente de impresi√≥n 3D con filamento. Cu√©ntame tu setup (impresora, material y par√°metros) o el problema que tienes üîß
          </div>
        </div>
      </div>
      <form id="ai-form" class="ai-form">
        <input id="ai-input" name="q" type="text" placeholder="" data-i18n-placeholder="ai_placeholder" autocomplete="off" required />
        <button class="btn primary" type="submit">Enviar</button>
      </form>
      <div class="ai-footnote"><span data-i18n="ai_privacy">Privado. No se publican tus datos. Procesado por un modelo LLM.</span></div>
    </div>
  </div>

  <!-- WhatsApp -->
  <a class="wa-fab" data-whatsapp href="https://wa.me/34123456789" target="_blank" rel="noopener" aria-label="WhatsApp">üí¨</a>

  <script src="script.js?v=2.0.0"></script>
</body>
</html>
